(self.webpackChunkobservable_webworker_demo=self.webpackChunkobservable_webworker_demo||[]).push([[889],{889:(s,o,c)=>{"use strict";var n=c(207);function d(r){return"function"==typeof r}let a=!1;const h={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=r},get useDeprecatedSynchronousErrorHandling(){return a}};function p(r){setTimeout(()=>{throw r},0)}const y={closed:!0,next(r){},error(r){if(h.useDeprecatedSynchronousErrorHandling)throw r;p(r)},complete(){}},U=Array.isArray||(r=>r&&"number"==typeof r.length);function W(r){return null!==r&&"object"==typeof r}const C=(()=>{function r(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r})();class _{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:u,_subscriptions:f}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof _)t.remove(this);else if(null!==t)for(let l=0;l<t.length;++l)t[l].remove(this);if(d(u)){i&&(this._unsubscribe=void 0);try{u.call(this)}catch(l){e=l instanceof C?X(l.errors):[l]}}if(U(f)){let l=-1,b=f.length;for(;++l<b;){const S=f[l];if(W(S))try{S.unsubscribe()}catch(T){e=e||[],T instanceof C?e=e.concat(X(T.errors)):e.push(T)}}}if(e)throw new C(e)}add(e){let t=e;if(!e)return _.EMPTY;switch(typeof e){case"function":t=new _(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof _)){const f=t;t=new _,t._subscriptions=[f]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof _){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const u=this._subscriptions;return null===u?this._subscriptions=[t]:u.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var r;function X(r){return r.reduce((e,t)=>e.concat(t instanceof C?t.errors:t),[])}_.EMPTY=((r=new _).closed=!0,r);const k="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class E extends _{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=y;break;case 1:if(!e){this.destination=y;break}if("object"==typeof e){e instanceof E?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new z(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new z(this,e,t,i)}}[k](){return this}static create(e,t,i){const u=new E(e,t,i);return u.syncErrorThrowable=!1,u}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class z extends E{constructor(e,t,i,u){super(),this._parentSubscriber=e;let f,l=this;d(t)?f=t:t&&(f=t.next,i=t.error,u=t.complete,t!==y&&(l=Object.create(t),d(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=f,this._error=i,this._complete=u}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;h.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=h;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):p(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;p(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);h.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),h.useDeprecatedSynchronousErrorHandling)throw i;p(i)}}__tryOrSetError(e,t,i){if(!h.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(u){return h.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=u,e.syncErrorThrown=!0,!0):(p(u),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const I="function"==typeof Symbol&&Symbol.observable||"@@observable";function ae(r){return r}let x=(()=>{class r{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new r;return i.source=this,i.operator=t,i}subscribe(t,i,u){const{operator:f}=this,l=function le(r,e,t){if(r){if(r instanceof E)return r;if(r[k])return r[k]()}return r||e||t?new E(r,e,t):new E(y)}(t,i,u);if(l.add(f?f.call(l,this.source):this.source||h.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),h.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(t){try{return this._subscribe(t)}catch(i){h.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function he(r){for(;r;){const{closed:e,destination:t,isStopped:i}=r;if(e||i)return!1;r=t&&t instanceof E?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=Y(i))((u,f)=>{let l;l=this.subscribe(b=>{try{t(b)}catch(S){f(S),l&&l.unsubscribe()}},f,u)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[I](){return this}pipe(...t){return 0===t.length?this:function V(r){return 0===r.length?ae:1===r.length?r[0]:function(t){return r.reduce((i,u)=>u(i),t)}}(t)(this)}toPromise(t){return new(t=Y(t))((i,u)=>{let f;this.subscribe(l=>f=l,l=>u(l),()=>i(f))})}}return r.create=e=>new r(e),r})();function Y(r){if(r||(r=h.Promise||Promise),!r)throw new Error("no Promise impl found");return r}const fe=new x(r=>r.complete());function j(r){return r?function de(r){return new x(e=>r.schedule(()=>e.complete()))}(r):fe}const L=r=>e=>{for(let t=0,i=r.length;t<i&&!e.closed;t++)e.next(r[t]);e.complete()};function N(r,e){return new x(t=>{const i=new _;let u=0;return i.add(e.schedule(function(){u!==r.length?(t.next(r[u++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function ye({error:r,subscriber:e}){e.error(r)}class w{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return function _e(...r){let e=r[r.length-1];return function pe(r){return r&&"function"==typeof r.schedule}(e)?(r.pop(),N(r,e)):function be(r,e){return e?N(r,e):new x(L(r))}(r)}(this.value);case"E":return function Ee(r,e){return new x(e?t=>e.schedule(ye,0,{error:r,subscriber:t}):t=>t.error(r))}(this.error);case"C":return j()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new w("N",e):w.undefinedValueNotification}static createError(e){return new w("E",void 0,e)}static createComplete(){return w.completeNotification}}w.completeNotification=new w("C"),w.undefinedValueNotification=new w("N",void 0);const O=function we(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),J=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function K(r){return!!r&&"function"!=typeof r.subscribe&&"function"==typeof r.then}const $=r=>{if(r&&"function"==typeof r[I])return(r=>e=>{const t=r[I]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(r);if(J(r))return L(r);if(K(r))return(r=>e=>(r.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,p),e))(r);if(r&&"function"==typeof r[O])return(r=>e=>{const t=r[O]();for(;;){let i;try{i=t.next()}catch(u){return e.error(u),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(r);{const t=`You provided ${W(r)?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function q(r,e){return e?function Te(r,e){if(null!=r){if(function ge(r){return r&&"function"==typeof r[I]}(r))return function Ae(r,e){return new x(t=>{const i=new _;return i.add(e.schedule(()=>{const u=r[I]();i.add(u.subscribe({next(f){i.add(e.schedule(()=>t.next(f)))},error(f){i.add(e.schedule(()=>t.error(f)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(r,e);if(K(r))return function Re(r,e){return new x(t=>{const i=new _;return i.add(e.schedule(()=>r.then(u=>{i.add(e.schedule(()=>{t.next(u),i.add(e.schedule(()=>t.complete()))}))},u=>{i.add(e.schedule(()=>t.error(u)))}))),i})}(r,e);if(J(r))return N(r,e);if(function ve(r){return r&&"function"==typeof r[O]}(r)||"string"==typeof r)return function Fe(r,e){if(!r)throw new Error("Iterable cannot be null");return new x(t=>{const i=new _;let u;return i.add(()=>{u&&"function"==typeof u.return&&u.return()}),i.add(e.schedule(()=>{u=r[O](),i.add(e.schedule(function(){if(t.closed)return;let f,l;try{const b=u.next();f=b.value,l=b.done}catch(b){return void t.error(b)}l?t.complete():(t.next(f),this.schedule())}))})),i})}(r,e)}throw new TypeError((null!==r&&typeof r||r)+" is not observable")}(r,e):r instanceof x?r:new x($(r))}function F(r,e){return function(i){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Ie(r,e))}}class Ie{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new He(e,this.project,this.thisArg))}}class He extends E{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}function G(r,e,t,i){return d(t)&&(i=t,t=void 0),i?G(r,e,t).pipe(F(u=>U(u)?i(...u):i(u))):new x(u=>{Q(r,e,function f(l){u.next(arguments.length>1?Array.prototype.slice.call(arguments):l)},u,t)})}function Q(r,e,t,i,u){let f;if(function Oe(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const l=r;r.addEventListener(e,t,u),f=()=>l.removeEventListener(e,t,u)}else if(function ke(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const l=r;r.on(e,t),f=()=>l.off(e,t)}else if(function Ce(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const l=r;r.addListener(e,t),f=()=>l.removeListener(e,t)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let l=0,b=r.length;l<b;l++)Q(r[l],e,t,i,u)}i.add(f)}class De{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Be(e,this.predicate,this.thisArg))}}class Be extends E{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}class Pe{call(e,t){return t.subscribe(new Ue(e))}}class Ue extends E{constructor(e){super(e)}_next(e){e.observe(this.destination)}}class We extends E{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Xe extends E{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Z(r,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Z((u,f)=>q(r(u,f)).pipe(F((l,b)=>e(u,l,f,b))),t)):("number"==typeof e&&(t=e),i=>i.lift(new Ve(r,t)))}class Ve{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Ye(e,this.project,this.concurrent))}}class Ye extends Xe{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(u){return void this.destination.error(u)}this.active++,this._innerSub(t)}_innerSub(e){const t=new We(this),i=this.destination;i.add(t);const u=function ze(r,e){if(!e.closed)return r instanceof x?r.subscribe(e):$(r)(e)}(e,t);u!==t&&i.add(u)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function je(r,e){return Z(r,e,1)}function ee(){return function(e){return e.lift(new Le)}}class Le{call(e,t){return t.subscribe(new Je(e))}}class Je extends E{constructor(e){super(e)}_next(e){this.destination.next(w.createNext(e))}_error(e){const t=this.destination;t.next(w.createError(e)),t.complete()}_complete(){const e=this.destination;e.next(w.createComplete()),e.complete()}}const g=(()=>{function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r})();class re extends _{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class Qe extends E{constructor(e){super(e),this.destination=e}}let se=(()=>{class r extends x{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[k](){return new Qe(this)}lift(t){const i=new ie(this,this);return i.operator=t,i}next(t){if(this.closed)throw new g;if(!this.isStopped){const{observers:i}=this,u=i.length,f=i.slice();for(let l=0;l<u;l++)f[l].next(t)}}error(t){if(this.closed)throw new g;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,u=i.length,f=i.slice();for(let l=0;l<u;l++)f[l].error(t);this.observers.length=0}complete(){if(this.closed)throw new g;this.isStopped=!0;const{observers:t}=this,i=t.length,u=t.slice();for(let f=0;f<i;f++)u[f].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new g;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new g;return this.hasError?(t.error(this.thrownError),_.EMPTY):this.isStopped?(t.complete(),_.EMPTY):(this.observers.push(t),new re(this,t))}asObservable(){const t=new x;return t.source=this,t}}return r.create=(e,t)=>new ie(e,t),r})();class ie extends se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):_.EMPTY}}class Ze extends _{constructor(e,t){super()}schedule(e,t=0){return this}}class et extends Ze{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let u,i=!1;try{this.work(e)}catch(f){i=!0,u=!!f&&f||new Error(f)}if(i)return this.unsubscribe(),u}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,u=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==u&&i.splice(u,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let ne=(()=>{class r{constructor(t,i=r.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,u){return new this.SchedulerAction(this,t).schedule(u,i)}}return r.now=()=>Date.now(),r})();class A extends ne{constructor(e,t=ne.now){super(e,()=>A.delegate&&A.delegate!==this?A.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return A.delegate&&A.delegate!==this?A.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const st=new class rt extends A{}(class tt extends et{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});class M extends E{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(M.dispatch,this.delay,new nt(e,this.destination)))}_next(e){this.scheduleMessage(w.createNext(e))}_error(e){this.scheduleMessage(w.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(w.createComplete()),this.unsubscribe()}}class nt{constructor(e,t){this.notification=e,this.destination=t}}class ot extends se{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new ct(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,f=i.length;let l;if(this.closed)throw new g;if(this.isStopped||this.hasError?l=_.EMPTY:(this.observers.push(e),l=new re(this,e)),u&&e.add(e=new M(e,u)),t)for(let b=0;b<f&&!e.closed;b++)e.next(i[b]);else for(let b=0;b<f&&!e.closed;b++)e.next(i[b].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l}_getNow(){return(this.scheduler||st).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,u=this._events,f=u.length;let l=0;for(;l<f&&!(e-u[l].time<i);)l++;return f>t&&(l=Math.max(l,f-t)),l>0&&u.splice(0,l),u}}class ct{constructor(e,t){this.time=e,this.value=t}}function R(){}function oe(r,e,t){return function(u){return u.lift(new ut(r,e,t))}}class ut{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new ht(e,this.nextOrObserver,this.error,this.complete))}}class ht extends E{constructor(e,t,i,u){super(e),this._tapNext=R,this._tapError=R,this._tapComplete=R,this._tapError=i||R,this._tapComplete=u||R,d(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||R,this._tapError=t.error||R,this._tapComplete=t.complete||R)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const lt=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();class ft{constructor(e){if(this.total=e,this.total<0)throw new lt}call(e,t){return t.subscribe(new dt(e,this.total))}}class dt extends E{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}var D=(()=>(function(r){r.WORKER="worker",r.MAIN="main"}(D||(D={})),D))(),v=(()=>(function(r){r.SELECTED="selected",r.PICKED_UP="picked_up",r.FILE_RECEIVED="file_received",r.FILE_READ="file_read",r.HASH_COMPUTED="hash_computed",r.HASH_RECEIVED="hash_received"}(v||(v={})),v))();!function te(r){const e=new r,t=G(self,"message");return function qe(r,e){const t=e.pipe(F(i=>i.data),F(i=>new w(i.kind,i.value,i.error)),function Me(r,e){return function(i){return i.lift(new De(r,e))}}(i=>"C"!==i.kind),function Ne(){return function(e){return e.lift(new Pe)}}());return function $e(r){return!!r.workUnit}(r)?t.pipe(je(i=>q(r.workUnit(i)).pipe(ee()))):r.work(t).pipe(ee())}(e,t).subscribe(i=>{const u=postMessage;(function Ke(r){return!!r.selectTransferables})(e)&&i.hasValue?u(i,e.selectTransferables(i.value)):u(i)})}(class pt{workUnit(e){const t=new ot(1/0),i=(u,f)=>({file:e.name,timestamp:new Date,message:f,thread:D.WORKER,fileEventType:u});return t.next(i(v.FILE_RECEIVED,"received file")),this.readFileAsArrayBuffer(e).pipe(oe(()=>t.next(i(v.FILE_READ,"read file"))),F(u=>n(u)),F(u=>i(v.HASH_COMPUTED,`hash result: ${u}`)),oe(u=>{t.next(u),t.complete()}),function at(r){return e=>0===r?j():e.lift(new ft(r))}(1)).subscribe(),t}readFileAsArrayBuffer(e){return new x(t=>{if(!(e instanceof Blob))return void t.error(new Error("`blob` must be an instance of File or Blob."));const i=new FileReader;return i.onerror=u=>t.error(u),i.onload=()=>t.next(i.result),i.onloadend=()=>t.complete(),i.readAsArrayBuffer(e),()=>i.abort()})}})},207:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s){return"[object Array]"===Object.prototype.toString.call(s)}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s){return"object"==typeof s&&s.buffer&&s.buffer.constructor===ArrayBuffer});var createOutputMethod=function(s){return function(o){return new Md5(!0).update(o)[s]()}},createMethod=function(){var s=createOutputMethod("hex");NODE_JS&&(s=nodeWrap(s)),s.create=function(){return new Md5},s.update=function(n){return s.create().update(n)};for(var o=0;o<OUTPUT_TYPES.length;++o){var c=OUTPUT_TYPES[o];s[c]=createOutputMethod(c)}return s},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(s){if("string"==typeof s)return crypto.createHash("md5").update(s,"utf8").digest("hex");if(null==s)throw ERROR;return s.constructor===ArrayBuffer&&(s=new Uint8Array(s)),Array.isArray(s)||ArrayBuffer.isView(s)||s.constructor===Buffer?crypto.createHash("md5").update(new Buffer(s)).digest("hex"):method(s)};return nodeMethod};function Md5(s){if(s)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var o=new ArrayBuffer(68);this.buffer8=new Uint8Array(o),this.blocks=new Uint32Array(o)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(s){if(!this.finalized){var o,c=typeof s;if("string"!==c){if("object"!==c)throw ERROR;if(null===s)throw ERROR;if(ARRAY_BUFFER&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!(Array.isArray(s)||ARRAY_BUFFER&&ArrayBuffer.isView(s)))throw ERROR;o=!0}for(var n,a,d=0,h=s.length,p=this.blocks,y=this.buffer8;d<h;){if(this.hashed&&(this.hashed=!1,p[0]=p[16],p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0),o)if(ARRAY_BUFFER)for(a=this.start;d<h&&a<64;++d)y[a++]=s[d];else for(a=this.start;d<h&&a<64;++d)p[a>>2]|=s[d]<<SHIFT[3&a++];else if(ARRAY_BUFFER)for(a=this.start;d<h&&a<64;++d)(n=s.charCodeAt(d))<128?y[a++]=n:n<2048?(y[a++]=192|n>>6,y[a++]=128|63&n):n<55296||n>=57344?(y[a++]=224|n>>12,y[a++]=128|n>>6&63,y[a++]=128|63&n):(n=65536+((1023&n)<<10|1023&s.charCodeAt(++d)),y[a++]=240|n>>18,y[a++]=128|n>>12&63,y[a++]=128|n>>6&63,y[a++]=128|63&n);else for(a=this.start;d<h&&a<64;++d)(n=s.charCodeAt(d))<128?p[a>>2]|=n<<SHIFT[3&a++]:n<2048?(p[a>>2]|=(192|n>>6)<<SHIFT[3&a++],p[a>>2]|=(128|63&n)<<SHIFT[3&a++]):n<55296||n>=57344?(p[a>>2]|=(224|n>>12)<<SHIFT[3&a++],p[a>>2]|=(128|n>>6&63)<<SHIFT[3&a++],p[a>>2]|=(128|63&n)<<SHIFT[3&a++]):(n=65536+((1023&n)<<10|1023&s.charCodeAt(++d)),p[a>>2]|=(240|n>>18)<<SHIFT[3&a++],p[a>>2]|=(128|n>>12&63)<<SHIFT[3&a++],p[a>>2]|=(128|n>>6&63)<<SHIFT[3&a++],p[a>>2]|=(128|63&n)<<SHIFT[3&a++]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,o=this.lastByteIndex;s[o>>2]|=EXTRA[3&o],o>=56&&(this.hashed||this.hash(),s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.bytes<<3,s[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var s,o,c,n,d,a,h=this.blocks;this.first?o=((o=((s=((s=h[0]-680876937)<<7|s>>>25)-271733879<<0)^(c=((c=(-271733879^(n=((n=(-1732584194^2004318071&s)+h[1]-117830708)<<12|n>>>20)+s<<0)&(-271733879^s))+h[2]-1126478375)<<17|c>>>15)+n<<0)&(n^s))+h[3]-1316259209)<<22|o>>>10)+c<<0:(s=this.h0,o=this.h1,o=((o+=((s=((s+=((n=this.h3)^o&((c=this.h2)^n))+h[0]-680876936)<<7|s>>>25)+o<<0)^(c=((c+=(o^(n=((n+=(c^s&(o^c))+h[1]-389564586)<<12|n>>>20)+s<<0)&(s^o))+h[2]+606105819)<<17|c>>>15)+n<<0)&(n^s))+h[3]-1044525330)<<22|o>>>10)+c<<0),o=((o+=((s=((s+=(n^o&(c^n))+h[4]-176418897)<<7|s>>>25)+o<<0)^(c=((c+=(o^(n=((n+=(c^s&(o^c))+h[5]+1200080426)<<12|n>>>20)+s<<0)&(s^o))+h[6]-1473231341)<<17|c>>>15)+n<<0)&(n^s))+h[7]-45705983)<<22|o>>>10)+c<<0,o=((o+=((s=((s+=(n^o&(c^n))+h[8]+1770035416)<<7|s>>>25)+o<<0)^(c=((c+=(o^(n=((n+=(c^s&(o^c))+h[9]-1958414417)<<12|n>>>20)+s<<0)&(s^o))+h[10]-42063)<<17|c>>>15)+n<<0)&(n^s))+h[11]-1990404162)<<22|o>>>10)+c<<0,o=((o+=((s=((s+=(n^o&(c^n))+h[12]+1804603682)<<7|s>>>25)+o<<0)^(c=((c+=(o^(n=((n+=(c^s&(o^c))+h[13]-40341101)<<12|n>>>20)+s<<0)&(s^o))+h[14]-1502002290)<<17|c>>>15)+n<<0)&(n^s))+h[15]+1236535329)<<22|o>>>10)+c<<0,o=((o+=((n=((n+=(o^c&((s=((s+=(c^n&(o^c))+h[1]-165796510)<<5|s>>>27)+o<<0)^o))+h[6]-1069501632)<<9|n>>>23)+s<<0)^s&((c=((c+=(s^o&(n^s))+h[11]+643717713)<<14|c>>>18)+n<<0)^n))+h[0]-373897302)<<20|o>>>12)+c<<0,o=((o+=((n=((n+=(o^c&((s=((s+=(c^n&(o^c))+h[5]-701558691)<<5|s>>>27)+o<<0)^o))+h[10]+38016083)<<9|n>>>23)+s<<0)^s&((c=((c+=(s^o&(n^s))+h[15]-660478335)<<14|c>>>18)+n<<0)^n))+h[4]-405537848)<<20|o>>>12)+c<<0,o=((o+=((n=((n+=(o^c&((s=((s+=(c^n&(o^c))+h[9]+568446438)<<5|s>>>27)+o<<0)^o))+h[14]-1019803690)<<9|n>>>23)+s<<0)^s&((c=((c+=(s^o&(n^s))+h[3]-187363961)<<14|c>>>18)+n<<0)^n))+h[8]+1163531501)<<20|o>>>12)+c<<0,o=((o+=((n=((n+=(o^c&((s=((s+=(c^n&(o^c))+h[13]-1444681467)<<5|s>>>27)+o<<0)^o))+h[2]-51403784)<<9|n>>>23)+s<<0)^s&((c=((c+=(s^o&(n^s))+h[7]+1735328473)<<14|c>>>18)+n<<0)^n))+h[12]-1926607734)<<20|o>>>12)+c<<0,o=((o+=((a=(n=((n+=((d=o^c)^(s=((s+=(d^n)+h[5]-378558)<<4|s>>>28)+o<<0))+h[8]-2022574463)<<11|n>>>21)+s<<0)^s)^(c=((c+=(a^o)+h[11]+1839030562)<<16|c>>>16)+n<<0))+h[14]-35309556)<<23|o>>>9)+c<<0,o=((o+=((a=(n=((n+=((d=o^c)^(s=((s+=(d^n)+h[1]-1530992060)<<4|s>>>28)+o<<0))+h[4]+1272893353)<<11|n>>>21)+s<<0)^s)^(c=((c+=(a^o)+h[7]-155497632)<<16|c>>>16)+n<<0))+h[10]-1094730640)<<23|o>>>9)+c<<0,o=((o+=((a=(n=((n+=((d=o^c)^(s=((s+=(d^n)+h[13]+681279174)<<4|s>>>28)+o<<0))+h[0]-358537222)<<11|n>>>21)+s<<0)^s)^(c=((c+=(a^o)+h[3]-722521979)<<16|c>>>16)+n<<0))+h[6]+76029189)<<23|o>>>9)+c<<0,o=((o+=((a=(n=((n+=((d=o^c)^(s=((s+=(d^n)+h[9]-640364487)<<4|s>>>28)+o<<0))+h[12]-421815835)<<11|n>>>21)+s<<0)^s)^(c=((c+=(a^o)+h[15]+530742520)<<16|c>>>16)+n<<0))+h[2]-995338651)<<23|o>>>9)+c<<0,o=((o+=((n=((n+=(o^((s=((s+=(c^(o|~n))+h[0]-198630844)<<6|s>>>26)+o<<0)|~c))+h[7]+1126891415)<<10|n>>>22)+s<<0)^((c=((c+=(s^(n|~o))+h[14]-1416354905)<<15|c>>>17)+n<<0)|~s))+h[5]-57434055)<<21|o>>>11)+c<<0,o=((o+=((n=((n+=(o^((s=((s+=(c^(o|~n))+h[12]+1700485571)<<6|s>>>26)+o<<0)|~c))+h[3]-1894986606)<<10|n>>>22)+s<<0)^((c=((c+=(s^(n|~o))+h[10]-1051523)<<15|c>>>17)+n<<0)|~s))+h[1]-2054922799)<<21|o>>>11)+c<<0,o=((o+=((n=((n+=(o^((s=((s+=(c^(o|~n))+h[8]+1873313359)<<6|s>>>26)+o<<0)|~c))+h[15]-30611744)<<10|n>>>22)+s<<0)^((c=((c+=(s^(n|~o))+h[6]-1560198380)<<15|c>>>17)+n<<0)|~s))+h[13]+1309151649)<<21|o>>>11)+c<<0,o=((o+=((n=((n+=(o^((s=((s+=(c^(o|~n))+h[4]-145523070)<<6|s>>>26)+o<<0)|~c))+h[11]-1120210379)<<10|n>>>22)+s<<0)^((c=((c+=(s^(n|~o))+h[2]+718787259)<<15|c>>>17)+n<<0)|~s))+h[9]-343485551)<<21|o>>>11)+c<<0,this.first?(this.h0=s+1732584193<<0,this.h1=o-271733879<<0,this.h2=c-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+s<<0,this.h1=this.h1+o<<0,this.h2=this.h2+c<<0,this.h3=this.h3+n<<0)},Md5.prototype.hex=function(){this.finalize();var s=this.h0,o=this.h1,c=this.h2,n=this.h3;return HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var s=this.h0,o=this.h1,c=this.h2,n=this.h3;return[255&s,s>>8&255,s>>16&255,s>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255,255&c,c>>8&255,c>>16&255,c>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(16),o=new Uint32Array(s);return o[0]=this.h0,o[1]=this.h1,o[2]=this.h2,o[3]=this.h3,s},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var s,o,c,n="",d=this.array(),a=0;a<15;)s=d[a++],o=d[a++],c=d[a++],n+=BASE64_ENCODE_CHAR[s>>>2]+BASE64_ENCODE_CHAR[63&(s<<4|o>>>4)]+BASE64_ENCODE_CHAR[63&(o<<2|c>>>6)]+BASE64_ENCODE_CHAR[63&c];return n+(BASE64_ENCODE_CHAR[(s=d[a])>>>2]+BASE64_ENCODE_CHAR[s<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}}]);
//# sourceMappingURL=889.45d9b5ec7aeb4a2f.js.map